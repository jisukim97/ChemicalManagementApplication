{"ast":null,"code":"var _jsxFileName = \"/Users/yeongmo/Documents/Programming/timeline/timeline/src/components/Header.js\";\nimport React, { Component } from 'react';\nimport { Button, Avatar, Icon } from 'antd';\nimport { history } from '../History';\nimport { logout, getUser, getToken } from '../authentication';\nimport { Link } from \"react-router-dom\";\nimport ChangeProfile from './ChangeProfile';\nimport './Header.css';\nimport './Box.css';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: {}\n    };\n\n    this.loadingUser = () => {\n      const userID = getUser().userID;\n      const requesturl = 'http://localhost:8080/user/getinfo/' + userID;\n      fetch(requesturl, {\n        method: 'GET',\n        headers: {\n          'token': getToken()\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          console.log('유저 정보 불러오기 에러!');\n          return [];\n        }\n      }).then(response => this.setState({\n        user: response\n      }));\n    };\n\n    this.getOnePhoto = (fileName, username) => {\n      if (fileName === \"\" || fileName == null) return React.createElement(Avatar, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, username);else return React.createElement(Avatar, {\n        size: \"large\",\n        src: 'http://localhost:8080/photo/download?filename=' + fileName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    };\n\n    this.logOut = () => {\n      logout();\n      history.push('/login');\n    };\n\n    this.goMain = () => {\n      history.push('/main');\n    };\n\n    this.getProfile = () => {\n      if (this.state.user == {}) {\n        return null;\n      } else {\n        return React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, this.getOnePhoto(this.state.user.profile, this.state.user.username)), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, this.state.user.username));\n      }\n    };\n\n    this.loadingUser();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/main\",\n      id: \"color\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"TIMELINE\")), React.createElement(\"div\", {\n      className: \"right-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(ChangeProfile, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"danger\",\n      icon: \"poweroff\",\n      onClick: this.logOut,\n      shape: \"circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.goMain,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Main\"), this.getProfile()));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["/Users/yeongmo/Documents/Programming/timeline/timeline/src/components/Header.js"],"names":["React","Component","Button","Avatar","Icon","history","logout","getUser","getToken","Link","ChangeProfile","Header","constructor","props","state","user","loadingUser","userID","requesturl","fetch","method","headers","then","response","status","json","console","log","setState","getOnePhoto","fileName","username","logOut","push","goMain","getProfile","profile","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Avatar, Icon } from 'antd';\nimport { history } from '../History';\nimport { logout, getUser, getToken } from '../authentication';\nimport { Link } from \"react-router-dom\";\n\nimport ChangeProfile from './ChangeProfile';\n\nimport './Header.css';\nimport './Box.css';\n\nclass Header extends Component {\n\n    state = {\n        user: {}\n    }\n\n    constructor(props) {\n        super(props);\n        this.loadingUser();\n    }\n\n    loadingUser = () => {\n        const userID = getUser().userID\n        const requesturl = 'http://localhost:8080/user/getinfo/' + userID\n        fetch(requesturl, {\n            method: 'GET',\n            headers: {\n                'token': getToken()\n            }\n        })\n            .then(response => {\n                if (response.status === 200) {\n                    return response.json();\n                } else {\n                    console.log('유저 정보 불러오기 에러!')\n                    return [];\n                }\n            }).then(response => this.setState({ user: response }))\n    }\n\n    //프로필 사진을 받아오기\n    getOnePhoto = (fileName, username) => {\n        if (fileName === \"\" || fileName == null)\n            return <Avatar size='large'>{username}</Avatar>\n        else\n            return <Avatar size='large' src={'http://localhost:8080/photo/download?filename=' + fileName} />\n    }\n\n\n\n    logOut = () => {\n        logout()\n        history.push('/login')\n    }\n\n    goMain = () => {\n        history.push('/main')\n    }\n\n    getProfile = () => {\n        if (this.state.user == {}) {\n            return null;\n        } else {\n            return (\n            <span>\n                <span>{this.getOnePhoto(this.state.user.profile, this.state.user.username)}</span>\n                <span>{this.state.user.username}</span>\n            </span>);\n        }\n    }\n\n    render() {\n        return (\n            <div className='Header'>\n                <div className=\"left-box\">\n                    <Link to='/main' id='color'>TIMELINE</Link>\n                </div>\n                <div className=\"right-box\">\n                    <span ><ChangeProfile /></span>\n                    <span ><Button type=\"danger\" icon=\"poweroff\" onClick={this.logOut} shape=\"circle\" /></span>\n                    <Button type=\"primary\" onClick={this.goMain} >Main</Button>\n                    {this.getProfile()}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}