{"ast":null,"code":"var _jsxFileName = \"/Users/yeongmo/Documents/Programming/timeline/timeline/src/components/CommentDeleteButton.js\";\nimport React, { Component } from 'react';\nimport { message, Popconfirm } from 'antd';\nimport { getUser, getToken } from '../authentication';\n\nclass CommentDeleteButton extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.confirm = item => {\n      //http요청\n      fetch(\"http://localhost:8080/comment/\" + this.props.commentID, {\n        method: 'DELETE',\n        headers: {\n          'token': getToken()\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          //댓글 삭제 처리\n          this.props.deleteComment(this.props.comment);\n          message.success('댓글 삭제가 완료 되었습니다!');\n        } else {//오류 처리\n        }\n      });\n    };\n\n    this.cancel = e => {\n      console.log(e);\n    };\n\n    this.deleteButton = () => {\n      //댓글쓴이와 현재 유저가 같은사람이면 삭제 버튼을 노출\n      if (getUser().userID === this.props.commentUserID) {\n        return React.createElement(Popconfirm, {\n          title: \"\\uC774 \\uB313\\uAE00\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\",\n          onConfirm: this.confirm,\n          onCancel: this.cancel,\n          okText: \"Yes\",\n          cancelText: \"No\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"default\",\n          shape: \"circle\",\n          size: \"small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, \"X\"));\n      } else {\n        return null;\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, this.deleteButton());\n  }\n\n}\n\nexport default CommentDeleteButton;","map":{"version":3,"sources":["/Users/yeongmo/Documents/Programming/timeline/timeline/src/components/CommentDeleteButton.js"],"names":["React","Component","message","Popconfirm","getUser","getToken","CommentDeleteButton","confirm","item","fetch","props","commentID","method","headers","then","response","status","deleteComment","comment","success","cancel","e","console","log","deleteButton","userID","commentUserID","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAmC,MAAnC;AAEA,SAASC,OAAT,EAAkBC,QAAlB,QAAkC,mBAAlC;;AAEA,MAAMC,mBAAN,SAAkCL,SAAlC,CAA4C;AAAA;AAAA;;AAAA,SAGxCM,OAHwC,GAG7BC,IAAD,IAAU;AAChB;AACAC,MAAAA,KAAK,CAAC,mCAAmC,KAAKC,KAAL,CAAWC,SAA/C,EAA0D;AAC3DC,QAAAA,MAAM,EAAE,QADmD;AAE3DC,QAAAA,OAAO,EAAE;AACL,mBAASR,QAAQ;AADZ;AAFkD,OAA1D,CAAL,CAMKS,IANL,CAMUC,QAAQ,IAAI;AACd,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB;AACA,eAAKN,KAAL,CAAWO,aAAX,CAAyB,KAAKP,KAAL,CAAWQ,OAApC;AACAhB,UAAAA,OAAO,CAACiB,OAAR,CAAgB,kBAAhB;AACH,SAJD,MAIO,CACH;AACH;AACJ,OAdL;AAeH,KApBuC;;AAAA,SAuBxCC,MAvBwC,GAuB9BC,CAAD,IAAO;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KAzBuC;;AAAA,SA4BxCG,YA5BwC,GA4BzB,MAAM;AAEjB;AACA,UAAIpB,OAAO,GAAGqB,MAAV,KAAqB,KAAKf,KAAL,CAAWgB,aAApC,EAAmD;AAC/C,eACI,oBAAC,UAAD;AACI,UAAA,KAAK,EAAC,6EADV;AAEI,UAAA,SAAS,EAAE,KAAKnB,OAFpB;AAGI,UAAA,QAAQ,EAAE,KAAKa,MAHnB;AAII,UAAA,MAAM,EAAC,KAJX;AAKI,UAAA,UAAU,EAAC,IALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOI,oBAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,SAAb;AAAuB,UAAA,KAAK,EAAC,QAA7B;AAAsC,UAAA,IAAI,EAAC,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPJ,CADJ;AAWH,OAZD,MAYO;AACH,eAAO,IAAP;AACH;AACJ,KA9CuC;AAAA;;AAgDxCO,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKH,YAAL,EADL,CADJ;AAKH;;AAtDuC;;AAyD5C,eAAelB,mBAAf","sourcesContent":["import React, { Component } from 'react';\nimport { message, Popconfirm} from 'antd'\n\nimport { getUser, getToken } from '../authentication';\n\nclass CommentDeleteButton extends Component {\n\n    //댓글 삭제\n    confirm = (item) => {    \n        //http요청\n        fetch(\"http://localhost:8080/comment/\" + this.props.commentID, {\n            method: 'DELETE',\n            headers: {\n                'token': getToken()\n            }\n        })\n            .then(response => {\n                if (response.status === 200) {\n                    //댓글 삭제 처리\n                    this.props.deleteComment(this.props.comment);\n                    message.success('댓글 삭제가 완료 되었습니다!');\n                } else {\n                    //오류 처리\n                }\n            })\n    }\n\n    //취소\n    cancel = (e) => {\n        console.log(e);\n    }\n\n    //댓글 삭제 버튼\n    deleteButton = () => {\n\n        //댓글쓴이와 현재 유저가 같은사람이면 삭제 버튼을 노출\n        if (getUser().userID === this.props.commentUserID) {\n            return (\n                <Popconfirm\n                    title=\"이 댓글을 삭제하시겠습니까?\"\n                    onConfirm={this.confirm}\n                    onCancel={this.cancel}\n                    okText=\"Yes\"\n                    cancelText=\"No\"\n                >\n                    <Button type='default' shape='circle' size='small'>X</Button>\n                </Popconfirm>\n            );\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        return (\n            <span>\n                {this.deleteButton()}\n            </span>\n        );\n    }\n}\n\nexport default CommentDeleteButton;"]},"metadata":{},"sourceType":"module"}