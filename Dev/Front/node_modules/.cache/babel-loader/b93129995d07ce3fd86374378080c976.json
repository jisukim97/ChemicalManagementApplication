{"ast":null,"code":"var _jsxFileName = \"/Users/yeongmo/Documents/Programming/timeline/timeline/src/components/CommentDeleteButton.js\";\nimport React, { Component } from 'react';\nimport { getUser } from '../authentication';\n\nclass CommentDeleteButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userID: getUser().userID,\n      commentUserID: 0,\n      commentID: 0,\n      comment: {}\n    };\n\n    this.confirm = item => {\n      fetch(\"http://localhost:8080/comment/\" + this.state.commentID, {\n        method: 'DELETE',\n        headers: {\n          'token': getToken()\n        }\n      }).then(response => {\n        if (response.status == 200) {\n          //댓글 삭제 처리\n          this.props.deleteComment(this.state.comment);\n          message.success('댓글 삭제가 완료 되었습니다!');\n        } else {//오류 처리\n        }\n      });\n    };\n\n    this.cancel = e => {\n      console.log(e);\n    };\n\n    this.deleteButton = () => {\n      if (this.state.userID === this.state.commentUserID) {\n        return React.createElement(Popconfirm, {\n          title: \"\\uC774 \\uB313\\uAE00\\uC744 \\uC0AD\\uC81C\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\",\n          onConfirm: this.confirm,\n          onCancel: this.cancel,\n          okText: \"Yes\",\n          cancelText: \"No\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"X\"));\n      } else {\n        return null;\n      }\n    };\n\n    this.setState({\n      commentUserID: this.props.commentUserID,\n      commentID: this.props.commentID,\n      comment: this.props.comment\n    });\n  } //댓글 삭제\n\n\n  render() {\n    return React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.deleteButton());\n  }\n\n}\n\nexport default CommentDeleteButton;","map":{"version":3,"sources":["/Users/yeongmo/Documents/Programming/timeline/timeline/src/components/CommentDeleteButton.js"],"names":["React","Component","getUser","CommentDeleteButton","constructor","props","state","userID","commentUserID","commentID","comment","confirm","item","fetch","method","headers","getToken","then","response","status","deleteComment","message","success","cancel","e","console","log","deleteButton","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,mBAAtB;;AAEA,MAAMC,mBAAN,SAAkCF,SAAlC,CAA4C;AASxCG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AADc,SAPlBC,KAOkB,GAPV;AACJC,MAAAA,MAAM,EAAGL,OAAO,GAAGK,MADf;AAEJC,MAAAA,aAAa,EAAG,CAFZ;AAGJC,MAAAA,SAAS,EAAG,CAHR;AAIJC,MAAAA,OAAO,EAAG;AAJN,KAOU;;AAAA,SAYlBC,OAZkB,GAYPC,IAAD,IAAU;AAChBC,MAAAA,KAAK,CAAC,mCAAmC,KAAKP,KAAL,CAAWG,SAA/C,EAA0D;AAC3DK,QAAAA,MAAM,EAAE,QADmD;AAE3DC,QAAAA,OAAO,EAAE;AACL,mBAASC,QAAQ;AADZ;AAFkD,OAA1D,CAAL,CAMKC,IANL,CAMUC,QAAQ,IAAI;AACd,YAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;AACxB;AACA,eAAKd,KAAL,CAAWe,aAAX,CAAyB,KAAKd,KAAL,CAAWI,OAApC;AACAW,UAAAA,OAAO,CAACC,OAAR,CAAgB,kBAAhB;AACH,SAJD,MAIO,CACH;AACH;AACJ,OAdL;AAeH,KA5BiB;;AAAA,SA6BlBC,MA7BkB,GA6BRC,CAAD,IAAO;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KA/BiB;;AAAA,SAkClBG,YAlCkB,GAkCH,MAAM;AACjB,UAAI,KAAKrB,KAAL,CAAWC,MAAX,KAAsB,KAAKD,KAAL,CAAWE,aAArC,EAAoD;AAChD,eACI,oBAAC,UAAD;AACI,UAAA,KAAK,EAAC,6EADV;AAEI,UAAA,SAAS,EAAE,KAAKG,OAFpB;AAGI,UAAA,QAAQ,EAAE,KAAKY,MAHnB;AAII,UAAA,MAAM,EAAC,KAJX;AAKI,UAAA,UAAU,EAAC,IALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOI;AAAG,UAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPJ,CADJ;AAWH,OAZD,MAYO;AACH,eAAO,IAAP;AACH;AACJ,KAlDiB;;AAGd,SAAKK,QAAL,CAAc;AACVpB,MAAAA,aAAa,EAAG,KAAKH,KAAL,CAAWG,aADjB;AAEVC,MAAAA,SAAS,EAAG,KAAKJ,KAAL,CAAWI,SAFb;AAGVC,MAAAA,OAAO,EAAG,KAAKL,KAAL,CAAWK;AAHX,KAAd;AAKH,GAjBuC,CAoBxC;;;AAyCAmB,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKF,YAAL,EADL,CADJ;AAKH;;AAnEuC;;AAsE5C,eAAexB,mBAAf","sourcesContent":["import React, { Component } from 'react';\nimport {getUser} from '../authentication';\n\nclass CommentDeleteButton extends Component {\n\n    state = {\n        userID : getUser().userID,\n        commentUserID : 0,\n        commentID : 0,\n        comment : {}\n    }\n\n    constructor(props){\n        super(props)\n\n        this.setState({\n            commentUserID : this.props.commentUserID,\n            commentID : this.props.commentID,\n            comment : this.props.comment\n        })\n    }\n\n \n    //댓글 삭제\n    confirm = (item) => {    \n        fetch(\"http://localhost:8080/comment/\" + this.state.commentID, {\n            method: 'DELETE',\n            headers: {\n                'token': getToken()\n            }\n        })\n            .then(response => {\n                if (response.status == 200) {\n                    //댓글 삭제 처리\n                    this.props.deleteComment(this.state.comment);\n                    message.success('댓글 삭제가 완료 되었습니다!');\n                } else {\n                    //오류 처리\n                }\n            })\n    }\n    cancel = (e) => {\n        console.log(e);\n    }\n\n    //댓글 삭제 버튼\n    deleteButton = () => {\n        if (this.state.userID === this.state.commentUserID) {\n            return (\n                <Popconfirm\n                    title=\"이 댓글을 삭제하시겠습니까?\"\n                    onConfirm={this.confirm}\n                    onCancel={this.cancel}\n                    okText=\"Yes\"\n                    cancelText=\"No\"\n                >\n                    <a href=\"#\">X</a>\n                </Popconfirm>\n            );\n        } else {\n            return null;\n        }\n    }\n\n    render() {\n        return (\n            <span>\n                {this.deleteButton()}\n            </span>\n        );\n    }\n}\n\nexport default CommentDeleteButton;"]},"metadata":{},"sourceType":"module"}