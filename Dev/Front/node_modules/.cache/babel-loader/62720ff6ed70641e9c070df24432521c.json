{"ast":null,"code":"var _jsxFileName = \"/Users/yeongmo/Documents/201902/YoongSoJongSeol/ChemicalManagementApplication/Dev/Front/src/components/Header.js\";\nimport React, { Component } from 'react';\nimport { Button, Avatar } from 'antd';\nimport { Link } from \"react-router-dom\";\nimport ChangeProfile from './ChangeProfile';\nimport { serverUrl } from '../setting';\nimport { history } from '../History';\nimport { logout, getUser, getToken } from '../authentication';\nimport './Header.css';\nimport './Box.css';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: {}\n    };\n\n    this.loadingUser = () => {\n      const userID = getUser().userID;\n      const requesturl = serverUrl + '/user/getinfo/' + userID;\n      fetch(requesturl, {\n        method: 'GET',\n        headers: {\n          'token': getToken()\n        }\n      }).then(response => {\n        if (response.status === 200) {\n          return response.json();\n        } else {\n          console.log('유저 정보 불러오기 에러!');\n          return [];\n        }\n      }).then(response => this.setState({\n        user: response\n      }));\n    };\n\n    this.getOnePhoto = (fileName, username) => {\n      if (fileName === \"\" || fileName == null) return React.createElement(Avatar, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, username);else return React.createElement(Avatar, {\n        size: \"large\",\n        src: serverUrl + '/photo/download?filename=' + fileName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      });\n    };\n\n    this.logOut = () => {\n      logout();\n      history.push('/login');\n    };\n\n    this.getProfile = () => {\n      if (this.state.user === {}) {\n        return null;\n      } else {\n        return React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          id: \"margin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, this.getOnePhoto(this.state.user.profile, this.state.user.username)), React.createElement(Link, {\n          to: \"#\",\n          onClick: this.toHome,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          id: \"margin\",\n          className: \"link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, this.state.user.username)));\n      }\n    };\n\n    this.toHome = () => {\n      history.push('/home/' + getUser().userID);\n    };\n\n    this.loadingUser();\n  } //현재 로그인 된 유저의 정보\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/main\",\n      id: \"color\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"SYLVY\"))), React.createElement(\"div\", {\n      className: \"right-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.getProfile()), React.createElement(\"span\", {\n      id: \"margin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(ChangeProfile, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      id: \"margin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"danger\",\n      icon: \"poweroff\",\n      onClick: this.logOut,\n      shape: \"circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["/Users/yeongmo/Documents/201902/YoongSoJongSeol/ChemicalManagementApplication/Dev/Front/src/components/Header.js"],"names":["React","Component","Button","Avatar","Link","ChangeProfile","serverUrl","history","logout","getUser","getToken","Header","constructor","props","state","user","loadingUser","userID","requesturl","fetch","method","headers","then","response","status","json","console","log","setState","getOnePhoto","fileName","username","logOut","push","getProfile","profile","toHome","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Avatar } from 'antd';\nimport { Link } from \"react-router-dom\";\n\nimport ChangeProfile from './ChangeProfile';\nimport { serverUrl } from '../setting'\nimport { history } from '../History';\nimport { logout, getUser, getToken } from '../authentication';\n\nimport './Header.css';\nimport './Box.css';\n\nclass Header extends Component {\n\n    state = {\n        user: {}\n    }\n\n    constructor(props) {\n        super(props);\n        this.loadingUser();\n    }\n\n    //현재 로그인 된 유저의 정보\n    loadingUser = () => {\n        const userID = getUser().userID\n        const requesturl = serverUrl + '/user/getinfo/' + userID\n        fetch(requesturl, {\n            method: 'GET',\n            headers: {\n                'token': getToken()\n            }\n        })\n            .then(response => {\n                if (response.status === 200) {\n                    return response.json();\n                } else {\n                    console.log('유저 정보 불러오기 에러!')\n                    return [];\n                }\n            }).then(response => this.setState({ user: response }))\n    }\n\n    //프로필 사진을 받아오기\n    getOnePhoto = (fileName, username) => {\n        if (fileName === \"\" || fileName == null)\n            return <Avatar size='large'>{username}</Avatar>\n        else\n            return <Avatar size='large' src={serverUrl + '/photo/download?filename=' + fileName} />\n    }\n\n    //로그아웃\n    logOut = () => {\n        logout()\n        history.push('/login')\n    }\n\n    //프로필 : 사진 + 이름으로 구성\n    getProfile = () => {\n        if (this.state.user === {}) {\n            return null;\n        } else {\n            return (\n            <span>\n                <span id='margin'>{this.getOnePhoto(this.state.user.profile, this.state.user.username)}</span>\n                <Link to='#' onClick={this.toHome} ><span id='margin' className='link'>{this.state.user.username}</span></Link>\n            </span>);\n        }\n    }\n\n    toHome = () => {\n        history.push('/home/' + getUser().userID)\n    }\n\n    render() {\n        return (\n            <div className='Header'>\n                {/* 로고 텍스트 ( 클릭하면 타임라인으로 이동) */}\n                <div className=\"left-box\">\n                    <b className='logo'><Link to='/main' id='color'>SYLVY</Link></b>\n                </div>\n\n                {/* 로그인 정보 + 프로필 변경 + 로그아웃 버튼 */}\n                <div className=\"right-box\">\n                    {/* 로그인 정보 */}\n                    <b>{this.getProfile()}</b>\n                    {/* 프로필 변경 */}\n                    <span id='margin'><ChangeProfile /></span>\n                    {/* 로그아웃 버튼 */}\n                    <span id='margin'><Button type=\"danger\" icon=\"poweroff\" onClick={this.logOut} shape=\"circle\" /></span>\n                </div>\n                \n            </div>\n        );\n    }\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}