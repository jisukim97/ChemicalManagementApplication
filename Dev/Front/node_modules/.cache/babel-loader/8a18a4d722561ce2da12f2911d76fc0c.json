{"ast":null,"code":"var _jsxFileName = \"/Users/Jennifer/Documents/GitHub/ChemicalManagementApplication/Dev/Front/src/components/MyGroupRegister.js\";\nimport React, { Component } from 'react';\nimport { Form, Icon, Input, Button, message } from 'antd';\nimport { Link } from \"react-router-dom\";\nimport { Typography } from 'antd';\nimport { history } from '../History';\nimport { serverUrl } from '../setting';\nimport { login } from '../authentication';\nconst Title = Typography.Title;\n\nclass MyGroupRegister extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          //요청 양식은 이미 values에 동일하게 맞춰져 있는 상태이므로\n          //따로 가공해줄 필요 없이 바로 http 요청을 보낸다\n          console.log(values);\n          fetch(serverUrl + '/login', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(values)\n          }).then(response => {\n            const result = response.status;\n\n            if (result === 200) {\n              //로그인이 성공하였을 경우\n              response.json().then(response => {\n                //로컬스토리지에 토큰 및 로그인 정보 저장\n                login(response);\n                console.log(response);\n                message.success(response.user.name + '그룹 가입에 성공하였습니다!');\n                history.push(\"/main\");\n              });\n            } else if (result === 401) {\n              //비밀번호 불일치 혹은 이메일이 등록되지 않았음\n              message.error('그룹 가입 신청에 실패하였습니다. 그룹 이름 혹은 그룹 비밀번호를 다시 확인해 주세요.');\n              console.log(\"fail!\");\n            } else {//내부 오류\n            }\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Title, {\n      style: {\n        marginBottom: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Lab \\uAC00\\uC785 \\uC2E0\\uCCAD\")), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, getFieldDecorator('LabName', {\n      rules: [{\n        required: true,\n        message: 'Lab 이름을 입력해 주세요!'\n      }]\n    })(React.createElement(Input //prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n    , {\n      placeholder: \"Lab Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, getFieldDecorator('password', {\n      rules: [{\n        required: true,\n        message: '그룹 비밀번호를 입력해 주세요!'\n      }]\n    })(React.createElement(Input, {\n      prefix: React.createElement(Icon, {\n        type: \"lock\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }),\n      type: \"Group Password\",\n      placeholder: \"Group Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\uAC00\\uC785 \\uC2E0\\uCCAD\")), React.createElement(Button, {\n      type: \"primary\",\n      onClick: this.showModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"\\uAC00\\uC785 \\uC2E0\\uCCAD\"), React.createElement(Modal, {\n      title: \"\\uAC00\\uC785 \\uC2E0\\uCCAD\",\n      visible: this.state.visible,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\uC5D0 \\uAC00\\uC785\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\")));\n  }\n\n}\n\nexport default Form.create()(MyGroupRegister);","map":{"version":3,"sources":["/Users/Jennifer/Documents/GitHub/ChemicalManagementApplication/Dev/Front/src/components/MyGroupRegister.js"],"names":["React","Component","Form","Icon","Input","Button","message","Link","Typography","history","serverUrl","login","Title","MyGroupRegister","handleSubmit","e","preventDefault","props","form","validateFields","err","values","console","log","fetch","method","headers","body","JSON","stringify","then","response","result","status","json","success","user","name","push","error","render","getFieldDecorator","marginBottom","rules","required","color","showModal","state","visible","handleOk","handleCancel","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Icon, Input, Button, message } from 'antd';\nimport { Link } from \"react-router-dom\";\nimport { Typography } from 'antd';\n\nimport { history } from '../History';\nimport { serverUrl } from '../setting';\nimport { login } from '../authentication';\n\nconst { Title } = Typography;\n\nclass MyGroupRegister extends Component {\n\n  //로그인 정보 입력 하고 로그인 버튼 눌렀을 때\n  handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n          if (!err) {\n              //요청 양식은 이미 values에 동일하게 맞춰져 있는 상태이므로\n              //따로 가공해줄 필요 없이 바로 http 요청을 보낸다\n              console.log(values)\n              fetch(serverUrl + '/login', {\n                  method: 'POST',\n                  headers: { 'Content-Type': 'application/json' },\n                  body: JSON.stringify(values)\n              })\n                  .then(response => {\n                      const result = response.status;\n                      if (result === 200) {\n                          //로그인이 성공하였을 경우\n                          response.json().then(response => {\n                              //로컬스토리지에 토큰 및 로그인 정보 저장\n                              login(response)\n                              console.log(response)\n                              message.success(response.user.name + '그룹 가입에 성공하였습니다!');\n                              history.push(\"/main\")\n                          })\n                      } else if (result === 401) {\n                          //비밀번호 불일치 혹은 이메일이 등록되지 않았음\n                          message.error('그룹 가입 신청에 실패하였습니다. 그룹 이름 혹은 그룹 비밀번호를 다시 확인해 주세요.');\n                          console.log(\"fail!\")\n                      } else {\n                          //내부 오류\n                      }\n                  })\n          }\n      });\n  };\n\n\n\n  render() {\n      const { getFieldDecorator } = this.props.form;\n      return (\n        <div>\n          <center><Title style={{marginBottom : 50}}>Lab 가입 신청</Title></center>\n              {/* 이메일 폼*/}\n              <Form.Item>\n                  {getFieldDecorator('LabName', {\n                      rules: [{ required: true, message: 'Lab 이름을 입력해 주세요!' }],\n                  })(\n                      <Input\n                          //prefix={<Icon type=\"mail\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                          placeholder=\"Lab Name\"\n                      />,\n                  )}\n              </Form.Item>\n\n              {/* 비밀번호 폼*/}\n              <Form.Item>\n                  {getFieldDecorator('password', {\n                      rules: [{ required: true, message: '그룹 비밀번호를 입력해 주세요!' }],\n                  })(\n                      <Input\n                          prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                          type=\"Group Password\"\n                          placeholder=\"Group Password\"\n                      />,\n                  )}\n              </Form.Item>\n\n              {/* 비밀번호 잃어버림, 로그인, 가입 버튼*/}\n              <Form.Item>\n                  {/*<Link to='/login/forgot' className=\"login-form-forgot\">Forgot password</Link>*/}\n                  <Button type=\"primary\" htmlType=\"submit\" className=\"button\">\n                      가입 신청\n                  </Button>\n              </Form.Item>\n\n              <Button type=\"primary\" onClick={this.showModal}>\n              가입 신청\n              </Button>\n              <Modal\n              title=\"가입 신청\"\n              visible={this.state.visible}\n              onOk={this.handleOk}\n              onCancel={this.handleCancel}\n              >\n              <p>에 가입하시겠습니까?</p>\n              </Modal>\n\n        </div>\n      );\n  }\n}\n\nexport default Form.create()(MyGroupRegister);\n"]},"metadata":{},"sourceType":"module"}